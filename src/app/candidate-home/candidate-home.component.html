


<mat-toolbar color="primary">
  <img src="../assets/careers-ico.jpg" alt="Logo" class="logo">
  <span class="spacer"></span>
 
  <button mat-button color="Login" [matMenuTriggerFor]="cvMenu">CV</button>

  <button mat-button color="Login" (click)="toggleProfileForm()">Profile</button>
  <button mat-button color="Login" (click)="toggleOffersList()">Offers</button>
  <button mat-button color="accent" (click)="Logout()">Logout</button> 
</mat-toolbar>




<main>
  
  <div class="profile-form" *ngIf="showProfileForm">
    <h2 class="welcome">Welcome </h2>
    <form [formGroup]="profileForm" (ngSubmit)="saveProfile()">
      <div class="form-group">
        <label>Email</label>
        <input type="email" formControlName="email" [readonly]="!profileEditMode">
      </div>

      <div class="form-group">
        <label>First Name</label>
        <input type="text" formControlName="firstname" [readonly]="!profileEditMode">
      </div>

      <div class="form-group">
        <label>Last Name</label>
        <input type="text" formControlName="lastname" [readonly]="!profileEditMode">
      </div>

      <div class="form-group">
        <label>Username</label>
        <input type="text" formControlName="username" [readonly]="!profileEditMode">
      </div>

      <div class="button-group">
        <div *ngIf="profileEditMode">
          <button mat-button type="submit"  (click)="saveProfile" >Save</button>
          <button mat-button (click)="cancelEdit()">Cancel</button>
        </div>
        <div *ngIf="!profileEditMode">
          
          <button mat-button (click)="enableEdit()">Edit</button>
        </div>
      </div>
    </form>
  </div>


  



  <mat-menu #cvMenu="matMenu">
    <button mat-menu-item (click)="showMiniForm('addCV')">Add CV</button>
    <button mat-menu-item (click)="showMiniForm('experience')">Experience</button>
    <button mat-menu-item (click)="showMiniForm('Training')">Training</button>
    <button mat-menu-item (click)="showMiniForm('certification')">Certification</button>
    <button mat-menu-item (click)="showMiniForm('language')">Language</button>
    <button mat-menu-item (click)="showMiniForm('skill')">Skill</button>
  </mat-menu>









  <div class="mini-form" *ngIf="selectedMiniForm === 'addCV'">
    <h3>Add CV</h3>
    <form [formGroup]="addCVForm" (ngSubmit)="saveCV()">
      <div class="form-group">
        <label for="position">Position</label>
        <input type="text" id="position" formControlName="position" class="input-field">
      </div>
      <div class="form-group">
        <label for="about">About</label>
        <textarea id="about" formControlName="about" class="input-field"></textarea>
      </div>
      <div class="form-group">
        <mat-slide-toggle formControlName="isPublic">Public</mat-slide-toggle>
      </div>
      <div class="form-group">
        <label for="experience">Experience</label>
        <input type="number" id="experience" formControlName="experience" class="input-field">
      </div>
      <button mat-raised-button type="submit" class="save-button">Save</button>
    </form>
  








    
    <mat-divider></mat-divider>
    <div *ngIf="createdCVs.length > 0">
    <h3>Created CVs</h3>
    <mat-list>
      <mat-list-item *ngFor="let cv of createdCVs" class="cv-item">
        <span>{{ cv.position }}</span>
        <button mat-icon-button color="primary" (click)="editCV(cv.id)">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button color="warn" (click)="deleteCV(cv.id)">
          <mat-icon>delete</mat-icon>
        </button>
      </mat-list-item>
    </mat-list>
  </div>
  </div>

















<div class="mini-form" *ngIf="selectedMiniForm === 'experience'">
  
</div>

















<div class="mini-form" *ngIf="selectedMiniForm === 'experience'">
  
</div>












<div class="mini-form" *ngIf="selectedMiniForm === 'certification'">
 
</div>













<div class="mini-form" *ngIf="selectedMiniForm === 'language'">
 
</div>













<div class="mini-form" *ngIf="selectedMiniForm === 'skill'">
  
</div>






<div *ngIf="showOffersList">
  <mat-accordion>
    <h3 class="offers-heading">Offers:</h3>

    <mat-expansion-panel *ngFor="let offer of offers">
      <mat-expansion-panel-header>
        {{ offer.position }}
      </mat-expansion-panel-header>
      <div class="offer-details">
        <div class="offer-company">Address:  {{ offer.address }}</div>
        <div class="offer-description">Description:  {{ offer.description }}</div>
        <div class="offer-description">Required Experience:  {{ offer.requiredexperience }}</div>
        <div class="offer-description">Expires At:  {{ offer.expiresAt }}</div>
        <div class="offer-description">Published At:  {{ offer.publishedAt }}</div>
        <div class="offer-description">Min Salary:  {{ offer.salaryMin }}</div>
        <div class="offer-description">Max Salary:  {{ offer.salaryMax }}</div>
        <div class="offer-description">Status:  {{ offer.status }}</div>
        <div class="offer-description">Positions:  {{ offer.positions }}</div>
        <div class="offer-description">Contract:  {{ offer.contract }}</div>
        <button mat-button color="primary" [disabled]="offer.status === 'Closed'" (click)="applyOffer(offer)">APPLY</button>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>


















































  <router-outlet></router-outlet>
</main>

